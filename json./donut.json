{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "padding": { "top": 24, "right": 40, "bottom": 10, "left": 10 },
  "background": "#f9fafb",
  "title": {"text": {"expr": "'Energy mix â€” ' + StateSel"}},
  "data": {
    "url": "https://raw.githubusercontent.com/ananya21233/FIT3179_Assignment_2/main/data/Australia_state_percentage.csv",
    "format": {"type": "csv", "parse": {"Oil":"number","Coal":"number","Gas":"number","Renewables":"number"}}
  },
  "params": [
    {
      "name": "StateSel",
      "value": "AUS",
      "bind": {
        "input": "select",
        "options": ["AUS","NSW","VIC","QLD","WA","SA","TAS","NT"],
        "name": "State: "
      }
    }
  ],
  "transform": [
    {"filter": "datum.State === StateSel"},
    {"fold": ["Oil","Coal","Gas","Renewables"], "as": ["Energy","Percent"]}
  ],
  "mark": {"type": "arc", "innerRadius": 80, "stroke": "#fff"},
  "encoding": {
    "theta": {"field": "Percent", "type": "quantitative"},
    "color": {"field": "Energy", "type": "nominal", "scale": {"scheme": "reds"}, 
        "legend": {
                "title": "State",
                "orient": "right",
                "labelFontSize": 14,
                "symbolSize": 200,
                "symbolStrokeWidth": 2,
                "titleFontSize": 16,
                "titleFont": "Times New Roman",
                "labelFont": "Times New Roman"}},

    "tooltip": [
      {"field": "Energy", "title": "Source"},
      {"field": "Percent", "title": "Share (%)", "format": ".1f"}
    ]
  },
    "width": "container",
    "height": 300,
    "view": {"stroke": null},
    "config": { 
    "font": "'Times New Roman', Times, serif" } }

